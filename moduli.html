<html>

<head>
    <title>Moduli Roujutsu</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body {
            background-color: red;
            padding-top: 2rem;
        }
        
        i.fa-check-circle {
            color: white;
            text-align: center;
            display: block;
            font-size: 15rem;
            text-shadow: 2px 2px 15px black;
        }
        
        h1 {
            color: white;
            text-align: center;
            display: block;
            font-size: 2rem;
            text-shadow: 2px 2px 15px black;
        }
    </style>
</head>

<body>
    <script>
        if (location.search.length > 1) {
            var search = new URLSearchParams(location.search);
            var status = search.get('s');
            if (status != "null") {
                document.body.innerHTML = '<i class="far fa-check-circle"></i><br><h1>Tesseramento effettuato, ti abbiamo<br>inviato una mail con i moduli</h1>';
            } else {
                var file = search.get('f');
                if (file == null) {
                    document.body.append("QUALCOSA NON HA FUNZIONATO");
                } else {
                    var cf = search.get('c');
                    if (cf != null) {
                        document.body.innerHTML += '<zexal-form data-json="frontEnd/moduli/' + file + '.json" data-c="' + cf + '"></zexal-form>';
                    } else {
                        document.body.innerHTML += '<zexal-form data-json="frontEnd/moduli/' + file + '.json"></zexal-form>';
                    }
                    window.history.replaceState("", "", (new URL(location.href)).pathname);
                }
            }
        } else {
            document.body.append("QUALCOSA NON HA FUNZIONATO");
        }
    </script>
    <script src="frontEnd/ZexalComponents.js"></script>
    <script type="module" src="frontEnd/moduli/zexal-form-component.js"></script>
</body>

</html>